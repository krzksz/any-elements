var n=!1;try{window.addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){n=!0}}))}catch(n){}var t=function(n){var t=n.node,i=n.name,e=n.options;this.options={},this.listeners=[],this.node=t,t.$any=this,this.name=i,Object.assign(this.options,e)};t.prototype.observedAttributes=function(){},t.prototype.connected=function(){},t.prototype.disconnected=function(){},t.prototype.attachEvent=function(t,i,e,o){var r=i;i instanceof Node||(r=this.node,o=e,e=i),r.addEventListener(t,e,o=n?o:o.capture),this.listeners.push({eventName:t,node:r,listener:e,options:o})};var i={},e={},o=document.body,r=Array.prototype.forEach,u=function(n,i,e,o){n.$any||(o.prototype instanceof t||(o=o()),Promise.resolve(o).then(function(t){var o=new t({node:n,name:i,options:e}),u=o.observedAttributes();if(u){var c=new MutationObserver(function(n){r.call(n,function(n){var t=n.attributeName;o.attributeChanged(t,n.oldValue,n.target.getAttribute(t))})});o.observer=c,c.observe(n,{attributes:!0,attributeOldValue:!0,attributeFilter:u})}o.connected()}))},c=function(n){var t=n.$any;if(t){var i=t.observer;i&&i.disconnect(),t.disconnected(),r.call(t.listeners,function(n){return n.node.removeEventListener(n.eventName,n.listener,n.options)}),t.listeners=[],delete t.node.$any,delete t.node}},f=function(n,t){if(1===n.nodeType){var e=t?i[t]:Object.keys(i);r.call(e,function(t){var e=i[t],o=e.t.selector;n.matches(o)&&u(n,t,e.t,e.i),r.call(n.querySelectorAll(o),function(n){return u(n,t,e.t,e.i)})})}},a=function(n){1===n.nodeType&&(c(n),r.call(n.querySelectorAll("*"),c))},s=function(){new MutationObserver(function(n){r.call(n,function(n){r.call(n.removedNodes,a),r.call(n.addedNodes,f)})}).observe(o,{childList:!0,subtree:!0}),f(o)};s.prototype.define=function(n,t,u){if(void 0===u&&(u={}),"string"!=typeof n||!n.match(/^[a-z][^A-Z]*\-[^A-Z]*$/))throw new Error('"'+n+'" is not a valid component name');i[n]={i:t,t:{selector:u.selector||n}},f(o,n),r.call(e[n]||[],function(n){return n()})},s.prototype.undefine=function(n){delete i[n]},s.prototype.get=function(n){return i[n]?i[n].i:void 0},s.prototype.whenDefined=function(n){var t=this;return new Promise(function(i){if(t.get(n))return i();e[n]=e[n]||[],e[n].push(i)})};var v=new s;export{t as Component,v as Registry};
//# sourceMappingURL=anyElements.mjs.map
