!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.kompot={})}(this,function(t){var e=function(t){this.element=t,t[n]=this};e.prototype.destructor=function(){};var o=document.body,n="msComponent",r=[],c=function(){r.forEach(function(t){for(var e=o.querySelectorAll(t.selector+":not([data-ms-component])"),r=0;r<e.length;r++){var c=e[r];c[n]||(c.setAttribute("data-ms-component",t.constructor.name),c[n]=new t.constructor(c))}})},s=function(t){t.removeAttribute("data-ms-component"),t[n].destructor()},u=function(t){if(t.nodeType===Node.ELEMENT_NODE){t.hasAttribute("data-ms-component")&&s(t);for(var e=t.querySelectorAll("[data-ms-component]"),o=e.length,n=0;n<o;n++)s(e[n])}},i=function(t){t.forEach(function(t){for(var e=t.removedNodes,o=e.length,n=0;n<o;n++)u(e[n]);t.addedNodes.length&&c()})};t.Component=e,t.register=function(t,e){r.push({selector:t,constructor:e})},t.attach=function(){new MutationObserver(i).observe(o,{childList:!0,subtree:!0}),c()}});
//# sourceMappingURL=kompot.umd.js.map
