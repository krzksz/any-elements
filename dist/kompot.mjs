var t=function(t){this.element=t,t[e]=this};t.prototype.destructor=function(){};var o=document.body,e="msComponent",n=[],r=function(){n.forEach(function(t){for(var n=o.querySelectorAll(t.selector+":not([data-ms-component])"),r=0;r<n.length;r++){var c=n[r];c[e]||(c.setAttribute("data-ms-component",t.constructor.name),c[e]=new t.constructor(c))}})},c=function(t,o){n.push({selector:t,constructor:o})},s=function(t){t.removeAttribute("data-ms-component"),t[e].destructor()},u=function(t){if(t.nodeType===Node.ELEMENT_NODE){t.hasAttribute("data-ms-component")&&s(t);for(var o=t.querySelectorAll("[data-ms-component]"),e=o.length,n=0;n<e;n++)s(o[n])}},a=function(t){t.forEach(function(t){for(var o=t.removedNodes,e=o.length,n=0;n<e;n++)u(o[n]);t.addedNodes.length&&r()})},i=function(){new MutationObserver(a).observe(o,{childList:!0,subtree:!0}),r()};export{t as Component,c as register,i as attach};
//# sourceMappingURL=kompot.mjs.map
